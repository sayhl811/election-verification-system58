
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
body {
background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
min-height: 100vh;
padding: 20px;
display: flex;
justify-content: center;
align-items: center;
}
.container {
max-width: 1400px;
width: 100%;
background: white;
border-radius: 20px;
box-shadow: 0 20px 60px rgba(0,0,0,0.3);
overflow: hidden;
animation: fadeIn 0.5s ease-out;
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}
/* –®–∞–ø–∫–∞ */
.header {
background: linear-gradient(to right, #0d47a1, #1565c0);
color: white;
padding: 25px 30px;
display: flex;
justify-content: space-between;
align-items: center;
position: relative;
overflow: hidden;
}
.header-info h1 {
font-size: 28px;
margin-bottom: 5px;
font-weight: 600;
}
.header-info p {
opacity: 0.9;
font-size: 14px;
}
.user-panel {
display: flex;
align-items: center;
gap: 20px;
}
.user-avatar {
width: 50px;
height: 50px;
border-radius: 50%;
background: linear-gradient(135deg, #4fc3f7, #0277bd);
display: flex;
align-items: center;
justify-content: center;
font-size: 20px;
font-weight: bold;
color: white;
}
.user-info {
text-align: right;
}
.user-name {
font-weight: 600;
margin-bottom: 3px;
}
.user-role {
font-size: 12px;
opacity: 0.8;
padding: 2px 10px;
background: rgba(255,255,255,0.2);
border-radius: 10px;
display: inline-block;
}
/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
.control-panel {
display: flex;
gap: 10px;
margin-top: 10px;
}
.btn-back {
background: rgba(255,255,255,0.2);
color: white;
border: 1px solid rgba(255,255,255,0.3);
padding: 8px 16px;
border-radius: 6px;
cursor: pointer;
font-size: 14px;
transition: all 0.3s ease;
display: flex;
align-items: center;
gap: 5px;
}
.btn-back:hover {
background: rgba(255,255,255,0.3);
transform: translateX(-3px);
}
.btn-logout {
background: rgba(220, 53, 69, 0.2);
color: #ff6b6b;
border: 1px solid rgba(220, 53, 69, 0.3);
padding: 8px 16px;
border-radius: 6px;
cursor: pointer;
font-size: 14px;
transition: all 0.3s ease;
}
.btn-logout:hover {
background: rgba(220, 53, 69, 0.3);
}
/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
.main-content {
display: grid;
grid-template-columns: 300px 1fr;
min-height: 700px;
}
/* –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
.sidebar {
background: #f8f9fa;
border-right: 1px solid #e9ecef;
padding: 25px 20px;
display: block !important; /* –í–∞–∂–Ω–æ: –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å */
}
.nav-menu {
list-style: none;
margin-bottom: 30px;
}
.nav-item {
margin-bottom: 10px;
}
.nav-link {
display: flex;
align-items: center;
gap: 12px;
padding: 15px;
border-radius: 12px;
color: #2c3e50;
text-decoration: none;
transition: all 0.3s ease;
font-weight: 500;
cursor: pointer;
}
.nav-link:hover {
background: #e3f2fd;
color: #1565c0;
transform: translateX(5px);
}
.nav-link.active {
background: linear-gradient(to right, #1565c0, #0d47a1);
color: white;
box-shadow: 0 5px 15px rgba(21, 101, 192, 0.3);
}
.nav-icon {
font-size: 20px;
}
.stats-widget {
background: white;
border-radius: 12px;
padding: 20px;
margin-top: 20px;
box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}
.stats-widget h3 {
font-size: 16px;
margin-bottom: 15px;
color: #2c3e50;
}
.stat-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px 0;
border-bottom: 1px solid #f0f0f0;
}
.stat-value {
font-weight: bold;
color: #1565c0;
}
/* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */
.content-area {
padding: 30px;
overflow-y: auto;
max-height: 700px;
display: block !important; /* –í–∞–∂–Ω–æ: –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å */
}
.content-section {
display: none;
}
.content-section.active {
display: block;
animation: slideIn 0.3s ease;
}
@keyframes slideIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.section-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 25px;
}
.section-header h2 {
font-size: 24px;
color: #2c3e50;
}
/* –ö–∞—Ä—Ç–æ—á–∫–∏ */
.cards-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 20px;
margin-bottom: 30px;
}
.card {
background: white;
border-radius: 15px;
padding: 25px;
box-shadow: 0 8px 25px rgba(0,0,0,0.08);
border: 1px solid #e9ecef;
transition: all 0.3s ease;
}
.card:hover {
transform: translateY(-5px);
box-shadow: 0 15px 35px rgba(0,0,0,0.12);
}
.card-header {
display: flex;
align-items: center;
gap: 15px;
margin-bottom: 15px;
}
.card-icon {
width: 50px;
height: 50px;
border-radius: 12px;
background: linear-gradient(135deg, #4fc3f7, #0277bd);
display: flex;
align-items: center;
justify-content: center;
font-size: 24px;
color: white;
}
.card-title {
font-size: 18px;
font-weight: 600;
color: #2c3e50;
}
.card-content {
color: #666;
line-height: 1.6;
margin-bottom: 20px;
}
/* –§–æ—Ä–º—ã */
.form-group {
margin-bottom: 20px;
}
.form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: #2c3e50;
}
.form-control {
width: 100%;
padding: 15px;
border: 2px solid #e9ecef;
border-radius: 10px;
font-size: 16px;
transition: all 0.3s ease;
}
.form-control:focus {
outline: none;
border-color: #1565c0;
box-shadow: 0 0 0 3px rgba(21, 101, 192, 0.1);
}
textarea.form-control {
min-height: 150px;
resize: vertical;
font-family: inherit;
}
.file-upload {
border: 2px dashed #1565c0;
border-radius: 10px;
padding: 30px;
text-align: center;
cursor: pointer;
transition: all 0.3s ease;
}
.file-upload:hover {
background: #f0f7ff;
}
.file-upload input {
display: none;
}
.file-label {
display: flex;
flex-direction: column;
align-items: center;
gap: 10px;
color: #1565c0;
font-weight: 600;
}
.file-list {
margin-top: 15px;
}
.file-item {
display: flex;
align-items: center;
justify-content: space-between;
padding: 10px;
background: #f8f9fa;
border-radius: 8px;
margin-bottom: 5px;
}
/* –ö–Ω–æ–ø–∫–∏ */
.btn {
padding: 15px 30px;
border: none;
border-radius: 10px;
cursor: pointer;
font-weight: 600;
font-size: 16px;
transition: all 0.3s ease;
display: inline-flex;
align-items: center;
gap: 10px;
}
.btn-primary {
background: linear-gradient(to right, #1565c0, #0d47a1);
color: white;
}
.btn-success {
background: linear-gradient(to right, #2e7d32, #1b5e20);
color: white;
}
.btn-danger {
background: linear-gradient(to right, #c62828, #b71c1c);
color: white;
}
.btn-warning {
background: linear-gradient(to right, #f57c00, #ef6c00);
color: white;
}
.btn:hover {
transform: translateY(-2px);
box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
.btn:active {
transform: translateY(0);
}
/* –¢–∞–±–ª–∏—Ü—ã */
.table-responsive {
overflow-x: auto;
border-radius: 10px;
border: 1px solid #e9ecef;
}
table {
width: 100%;
border-collapse: collapse;
}
thead {
background: linear-gradient(to right, #1565c0, #0d47a1);
color: white;
}
th, td {
padding: 15px;
text-align: left;
border-bottom: 1px solid #e9ecef;
}
tbody tr:hover {
background: #f5f9ff;
}
.status-badge {
padding: 5px 15px;
border-radius: 20px;
font-size: 12px;
font-weight: 600;
}
.status-new {
background: #e3f2fd;
color: #1565c0;
}
.status-processing {
background: #fff3e0;
color: #f57c00;
}
.status-resolved {
background: #e8f5e8;
color: #2e7d32;
}
/* –ê–ª–µ—Ä—Ç—ã */
.alert {
padding: 20px;
border-radius: 10px;
margin-bottom: 20px;
border-left: 5px solid;
animation: slideIn 0.3s ease;
}
.alert-info {
background: #e3f2fd;
border-color: #1565c0;
color: #0d47a1;
}
.alert-success {
background: #e8f5e8;
border-color: #2e7d32;
color: #1b5e20;
}
.alert-warning {
background: #fff3e0;
border-color: #f57c00;
color: #ef6c00;
}
.alert-danger {
background: #ffebee;
border-color: #c62828;
color: #b71c1c;
}
/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.8);
z-index: 1000;
align-items: center;
justify-content: center;
animation: fadeIn 0.3s ease;
}
.modal.active {
display: flex;
}
.modal-content {
background: white;
border-radius: 15px;
width: 90%;
max-width: 500px;
padding: 30px;
box-shadow: 0 20px 50px rgba(0,0,0,0.3);
}
.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}
.modal-close {
background: none;
border: none;
font-size: 24px;
cursor: pointer;
color: #666;
}
/* –ê–Ω–∞–ª–∏–∑ –ò–ò */
.ai-analysis {
background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
border-radius: 15px;
padding: 25px;
margin-top: 20px;
border: 1px solid #bbdefb;
}
.ai-header {
display: flex;
align-items: center;
gap: 15px;
margin-bottom: 20px;
}
.ai-icon {
font-size: 32px;
color: #1565c0;
}
.ai-result {
background: white;
border-radius: 10px;
padding: 20px;
margin-top: 15px;
}
.ai-score {
font-size: 48px;
font-weight: bold;
color: #1565c0;
text-align: center;
margin: 20px 0;
}
.ai-feedback {
color: #666;
line-height: 1.6;
}
/* –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
.auth-screen {
display: none;
flex-direction: column;
align-items: center;
justify-content: center;
min-height: 500px;
padding: 40px;
text-align: center;
}
.auth-screen.active {
display: flex;
}
.auth-icon {
font-size: 80px;
margin-bottom: 30px;
color: #1565c0;
}
.auth-title {
font-size: 32px;
color: #2c3e50;
margin-bottom: 20px;
}
.auth-subtitle {
color: #666;
margin-bottom: 40px;
max-width: 600px;
line-height: 1.6;
}
.auth-buttons {
display: flex;
gap: 20px;
flex-wrap: wrap;
justify-content: center;
}
/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 1200px) {
.main-content {
grid-template-columns: 250px 1fr;
}
}
@media (max-width: 992px) {
.main-content {
grid-template-columns: 1fr;
}
.sidebar {
display: none !important;
}
.header {
flex-direction: column;
gap: 15px;
text-align: center;
}
.user-panel {
flex-direction: column;
text-align: center;
}
.user-info {
text-align: center;
}
.control-panel {
justify-content: center;
}
}
@media (max-width: 768px) {
.container {
border-radius: 10px;
}
.content-area {
padding: 20px;
}
.cards-grid {
grid-template-columns: 1fr;
}
.btn {
width: 100%;
justify-content: center;
}
.auth-buttons {
flex-direction: column;
}
.auth-buttons .btn {
width: 100%;
}
}
@media (max-width: 480px) {
body {
padding: 10px;
}
.header {
padding: 20px 15px;
}
.header-info h1 {
font-size: 22px;
}
.auth-title {
font-size: 24px;
}
.auth-icon {
font-size: 60px;
}
}
</style>
</head>
<body>
<div class="container">
<!-- –®–∞–ø–∫–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ–∫–∞ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) -->
<div class="header" id="header" style="display: none;">
<div class="header-info">
<h1>üéØ –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–æ–≤</h1>
<p>–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è</p>
</div>
<div class="user-panel" id="userPanel">
<!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
</div>
</div>
<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="main-content">
<!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (—Å–∫—Ä—ã—Ç–∞ –ø–æ–∫–∞ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) -->
<nav class="sidebar" id="sidebar" style="display: none;">
<ul class="nav-menu" id="navMenu">
<!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
</ul>
<div class="stats-widget" id="statsWidget">
<h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
<div class="stat-item">
<span>–í—Å–µ–≥–æ –Ω–∞—Ä—É—à–µ–Ω–∏–π:</span>
<span class="stat-value" id="totalViolations">0</span>
</div>
<div class="stat-item">
<span>–û—Ç—á–µ—Ç–æ–≤:</span>
<span class="stat-value" id="totalReports">0</span>
</div>
<div class="stat-item">
<span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</span>
<span class="stat-value" id="totalUsers">0</span>
</div>
</div>
</nav>
<!-- –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å -->
<main class="content-area">
<!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–≤–∏–¥–µ–Ω –ø–µ—Ä–≤—ã–º) -->
<section id="authScreen" class="auth-screen active">
<div class="auth-icon">üîê</div>
<h1 class="auth-title">–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–æ–≤</h1>
<p class="auth-subtitle">
–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ –≤—ã–±–æ—Ä–∞–º–∏.
–ü–æ–¥–∞–≤–∞–π—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏—è –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏—Ö —Å –ø–æ–º–æ—â—å—é –ò–ò
–∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.
</p>
<div class="auth-buttons">
<button class="btn btn-primary" onclick="showLoginModal()">
üîê –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
</button>
<button class="btn btn-success" onclick="showRegisterModal()">
üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
</button>
<button class="btn btn-warning" onclick="enterDemoMode()">
üöÄ –î–µ–º–æ-—Ä–µ–∂–∏–º
</button>
</div>
<div style="margin-top: 40px; color: #666; font-size: 14px;">
<p><strong>–î–µ–º–æ-–¥–æ—Å—Ç—É–ø:</strong></p>
<div style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; margin-top: 10px;">
<div style="background: #f8f9fa; padding: 10px 15px; border-radius: 8px;">
üëë <strong>–ê–¥–º–∏–Ω:</strong><br>
login: <code>admin58</code><br>
pass: <code>893612</code>
</div>
<div style="background: #f8f9fa; padding: 10px 15px; border-radius: 8px;">
üëÅÔ∏è <strong>–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å:</strong><br>
login: <code>observer</code><br>
pass: <code>observer123</code>
</div>
<div style="background: #f8f9fa; padding: 10px 15px; border-radius: 8px;">
üë§ <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong><br>
login: <code>user</code><br>
pass: <code>user123</code>
</div>
</div>
</div>
</section>
<!-- –î–∞—à–±–æ—Ä–¥ (—Å–∫—Ä—ã—Ç –ø–æ–∫–∞ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) -->
<section id="dashboard" class="content-section">
<div class="section-header">
<h2>üìä –î–∞—à–±–æ—Ä–¥ —Å–∏—Å—Ç–µ–º—ã</h2>
<div>
<button class="btn-back" onclick="goBack()" style="margin-right: 10px;">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn btn-primary" onclick="refreshDashboard()">
üîÑ –û–±–Ω–æ–≤–∏—Ç—å
</button>
</div>
</div>
<div class="cards-grid">
<div class="card">
<div class="card-header">
<div class="card-icon">üìà</div>
<h3 class="card-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
</div>
<div class="card-content">
<p id="todayActivity">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
</div>
<button class="btn btn-primary" onclick="showSection('reports')">
–ü–æ–¥—Ä–æ–±–Ω–µ–µ
</button>
</div>
<div class="card">
<div class="card-header">
<div class="card-icon">üö®</div>
<h3 class="card-title">–ù–æ–≤—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è</h3>
</div>
<div class="card-content">
<p id="newViolations">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
</div>
<button class="btn btn-danger" onclick="showSection('violations')">
–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å
</button>
</div>
<div class="card">
<div class="card-header">
<div class="card-icon">ü§ñ</div>
<h3 class="card-title">–ê–Ω–∞–ª–∏–∑ –ò–ò</h3>
</div>
<div class="card-content">
<p>–û—Ü–µ–Ω–∫–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏: <span id="aiCredibility">‚Äî</span></p>
<p>–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: <span id="aiProcessed">0</span> –∑–∞–ø—Ä–æ—Å–æ–≤</p>
</div>
<button class="btn btn-success" onclick="showSection('aiAnalysis')">
–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑
</button>
</div>
</div>
<div class="alert alert-info">
<strong>üí° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:</strong> –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—ã—à–µ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
</div>
</section>
<!-- –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è -->
<section id="submitReport" class="content-section">
<div class="section-header">
<h2>üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏</h2>
<button class="btn-back" onclick="goBack()">
‚Üê –ù–∞–∑–∞–¥
</button>
</div>
<form id="reportForm" onsubmit="submitReport(event)">
<div class="form-group">
<label for="reportUik">–ù–æ–º–µ—Ä –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞ (–£–ò–ö):</label>
<input type="text" id="reportUik" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£–ò–ö ‚Ññ1234" required>
</div>
<div class="form-group">
<label for="reportTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞—Ä—É—à–µ–Ω–∏—è:</label>
<input type="text" id="reportTitle" class="form-control" placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ" required>
</div>
<div class="form-group">
<label for="reportDescription">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
<textarea id="reportDescription" class="form-control"
placeholder="–û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥—Ä–æ–±–Ω–æ: —á—Ç–æ, –≥–¥–µ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –∫—Ç–æ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª..."
required></textarea>
</div>
<div class="form-group">
<label>–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ):</label>
<div class="file-upload" onclick="document.getElementById('fileInput').click()">
<input type="file" id="fileInput" multiple accept="image/*,video/*" onchange="handleFileUpload()">
<div class="file-label">
<span style="font-size: 48px;">üìé</span>
<span>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤</span>
<small>–ú–∞–∫—Å–∏–º—É–º 5 —Ñ–∞–π–ª–æ–≤, –¥–æ 10 –ú–ë –∫–∞–∂–¥—ã–π</small>
</div>
</div>
<div class="file-list" id="fileList"></div>
</div>
<div class="form-group">
<label for="witnessContact">–ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–≤–∏–¥–µ—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å):</label>
<input type="text" id="witnessContact" class="form-control" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω, email –∏–ª–∏ –§–ò–û">
</div>
<div style="display: flex; gap: 10px;">
<button type="submit" class="btn btn-success">
üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ
</button>
<button type="button" class="btn btn-warning" onclick="goBack()">
‚Üê –û—Ç–º–µ–Ω–∞
</button>
</div>
</form>
</section>
<!-- –ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è -->
<section id="myReports" class="content-section">
<div class="section-header">
<h2>üìã –ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è</h2>
<div>
<button class="btn-back" onclick="goBack()" style="margin-right: 10px;">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn btn-primary" onclick="loadMyReports()">
üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
</button>
</div>
</div>
<div class="table-responsive">
<table>
<thead>
<tr>
<th>ID</th>
<th>–£–ò–ö</th>
<th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th>
<th>–î–∞—Ç–∞</th>
<th>–°—Ç–∞—Ç—É—Å</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="myReportsTable">
<!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
</tbody>
</table>
</div>
</section>
<!-- –í—Å–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞) -->
<section id="violations" class="content-section">
<div class="section-header">
<h2>üö® –í—Å–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è</h2>
<div>
<button class="btn-back" onclick="goBack()" style="margin-right: 10px;">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn btn-primary" onclick="loadViolations()">
üîÑ –û–±–Ω–æ–≤–∏—Ç—å
</button>
<button class="btn btn-danger" onclick="exportViolations()">
üì§ –≠–∫—Å–ø–æ—Ä—Ç
</button>
</div>
</div>
<div class="table-responsive">
<table>
<thead>
<tr>
<th>ID</th>
<th>–£–ò–ö</th>
<th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th>
<th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
<th>–î–∞—Ç–∞</th>
<th>–°—Ç–∞—Ç—É—Å –ò–ò</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="violationsTable">
<!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
</tbody>
</table>
</div>
</section>
<!-- –ê–Ω–∞–ª–∏–∑ –ò–ò -->
<section id="aiAnalysis" class="content-section">
<div class="section-header">
<h2>ü§ñ –ê–Ω–∞–ª–∏–∑ –ò–ò</h2>
<div>
<button class="btn-back" onclick="goBack()" style="margin-right: 10px;">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn btn-success" onclick="runAiAnalysis()">
üîç –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑
</button>
</div>
</div>
<div class="ai-analysis">
<div class="ai-header">
<div class="ai-icon">üß†</div>
<div>
<h3>–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏</h3>
<p>–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π –∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å</p>
</div>
</div>
<div class="form-group">
<label for="aiText">–¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:</label>
<textarea id="aiText" class="form-control"
placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ò–ò..."
rows="6"></textarea>
</div>
<div style="display: flex; gap: 10px;">
<button class="btn btn-primary" onclick="analyzeText()">
ü§ñ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
</button>
<button class="btn btn-warning" onclick="goBack()">
‚Üê –ù–∞–∑–∞–¥
</button>
</div>
<div class="ai-result" id="aiResult" style="display: none;">
<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞:</h4>
<div class="ai-score" id="aiScore">‚Äî</div>
<div class="ai-feedback" id="aiFeedback"></div>
<div style="margin-top: 20px;">
<strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong>
<p id="aiRecommendations"></p>
</div>
</div>
</div>
</section>
<!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞) -->
<section id="users" class="content-section">
<div class="section-header">
<h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
<div>
<button class="btn-back" onclick="goBack()" style="margin-right: 10px;">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn btn-success" onclick="showAddUserModal()">
‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
</button>
</div>
</div>
<div class="table-responsive">
<table>
<thead>
<tr>
<th>ID</th>
<th>–ò–º—è</th>
<th>Email</th>
<th>–†–æ–ª—å</th>
<th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
<th>–°—Ç–∞—Ç—É—Å</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="usersTable">
<!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
</tbody>
</table>
</div>
</section>
</main>
</div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
<div class="modal" id="loginModal">
<div class="modal-content">
<div class="modal-header">
<h2>üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
<button class="modal-close" onclick="closeLoginModal()">√ó</button>
</div>
<form onsubmit="handleLogin(event)">
<div class="form-group">
<label for="loginUsername">–õ–æ–≥–∏–Ω:</label>
<input type="text" id="loginUsername" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" required>
</div>
<div class="form-group">
<label for="loginPassword">–ü–∞—Ä–æ–ª—å:</label>
<input type="password" id="loginPassword" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
</div>
<div style="display: flex; gap: 10px;">
<button type="submit" class="btn btn-primary" style="flex: 1;">
–í–æ–π—Ç–∏
</button>
<button type="button" class="btn btn-warning" onclick="closeLoginModal()" style="flex: 1;">
–û—Ç–º–µ–Ω–∞
</button>
</div>
<div style="text-align: center; margin-top: 20px;">
<a href="#" onclick="showRegisterModal()" style="color: #1565c0; text-decoration: none;">
–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
</a>
</div>
</form>
</div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div class="modal" id="registerModal">
<div class="modal-content">
<div class="modal-header">
<h2>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
<button class="modal-close" onclick="closeRegisterModal()">√ó</button>
</div>
<form onsubmit="handleRegister(event)">
<div class="form-group">
<label for="regName">–§–ò–û:</label>
<input type="text" id="regName" class="form-control" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
</div>
<div class="form-group">
<label for="regUsername">–õ–æ–≥–∏–Ω:</label>
<input type="text" id="regUsername" class="form-control" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ª–æ–≥–∏–Ω" required>
</div>
<div class="form-group">
<label for="regEmail">Email:</label>
<input type="email" id="regEmail" class="form-control" placeholder="example@mail.ru" required>
</div>
<div class="form-group">
<label for="regPassword">–ü–∞—Ä–æ–ª—å:</label>
<input type="password" id="regPassword" class="form-control" placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
</div>
<div class="form-group">
<label for="regConfirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
<input type="password" id="regConfirmPassword" class="form-control" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
</div>
<div style="display: flex; gap: 10px;">
<button type="submit" class="btn btn-success" style="flex: 1;">
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
</button>
<button type="button" class="btn btn-warning" onclick="closeRegisterModal()" style="flex: 1;">
–û—Ç–º–µ–Ω–∞
</button>
</div>
</form>
</div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω) -->
<div class="modal" id="addUserModal">
<div class="modal-content">
<div class="modal-header">
<h2>üë• –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
<button class="modal-close" onclick="closeAddUserModal()">√ó</button>
</div>
<form onsubmit="handleAddUser(event)">
<div class="form-group">
<label for="addUserName">–§–ò–û:</label>
<input type="text" id="addUserName" class="form-control" required>
</div>
<div class="form-group">
<label for="addUserLogin">–õ–æ–≥–∏–Ω:</label>
<input type="text" id="addUserLogin" class="form-control" required>
</div>
<div class="form-group">
<label for="addUserEmail">Email:</label>
<input type="email" id="addUserEmail" class="form-control" required>
</div>
<div class="form-group">
<label for="addUserPassword">–ü–∞—Ä–æ–ª—å:</label>
<input type="password" id="addUserPassword" class="form-control" required>
</div>
<div class="form-group">
<label for="addUserRole">–†–æ–ª—å:</label>
<select id="addUserRole" class="form-control">
<option value="observer">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å</option>
<option value="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
</select>
</div>
<div style="display: flex; gap: 10px;">
<button type="submit" class="btn btn-success" style="flex: 1;">
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
</button>
<button type="button" class="btn btn-warning" onclick="closeAddUserModal()" style="flex: 1;">
–û—Ç–º–µ–Ω–∞
</button>
</div>
</form>
</div>
</div>
<script>
// –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
const UserSystem = {
currentUser: null,
history: [], // –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
// –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
predefinedUsers: {
'admin58': {
id: 1,
name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –°–∏—Å—Ç–µ–º—ã',
username: 'admin58',
email: 'admin@election-control.ru',
password: '893612',
role: 'admin',
createdAt: new Date().toISOString(),
avatar: 'üëë'
},
'observer': {
id: 2,
name: '–ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á',
username: 'observer',
email: 'observer@mail.ru',
password: 'observer123',
role: 'observer',
createdAt: new Date().toISOString(),
avatar: 'üëÅÔ∏è'
},
'user': {
id: 3,
name: '–°–∏–¥–æ—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞',
username: 'user',
email: 'user@mail.ru',
password: 'user123',
role: 'user',
createdAt: new Date().toISOString(),
avatar: 'üë§'
}
},
// –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
users: {},
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
init() {
// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
this.users = { ...this.predefinedUsers };
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ localStorage
const savedUsers = localStorage.getItem('election_users');
if (savedUsers) {
const parsedUsers = JSON.parse(savedUsers);
Object.assign(this.users, parsedUsers);
}
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
const session = localStorage.getItem('election_session');
if (session) {
const { username, token } = JSON.parse(session);
if (this.users[username] && this.verifyToken(username, token)) {
this.currentUser = this.users[username];
this.showAppInterface();
} else {
this.showAuthScreen();
}
} else {
this.showAuthScreen();
}
},
// –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
showAuthScreen() {
document.getElementById('authScreen').classList.add('active');
document.getElementById('header').style.display = 'none';
document.getElementById('sidebar').style.display = 'none';
document.querySelectorAll('.content-section').forEach(section => {
section.classList.remove('active');
});
},
// –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
showAppInterface() {
document.getElementById('authScreen').classList.remove('active');
document.getElementById('header').style.display = 'flex';
document.getElementById('sidebar').style.display = 'block';
this.updateUI();
this.navigateTo('dashboard');
},
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
generateToken(username) {
return btoa(username + ':' + Date.now() + ':' + Math.random());
},
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
verifyToken(username, token) {
try {
const decoded = atob(token).split(':');
return decoded[0] === username;
} catch {
return false;
}
},
// –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
login(username, password) {
const user = this.users[username];
if (!user) {
return { success: false, message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω' };
}
if (user.password !== password) {
return { success: false, message: '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å' };
}
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω
const token = this.generateToken(username);
// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é
this.currentUser = user;
localStorage.setItem('election_session', JSON.stringify({ username, token }));
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
this.showAppInterface();
return { success: true, user };
},
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
register(userData) {
const { name, username, email, password } = userData;
if (this.users[username]) {
return { success: false, message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç' };
}
// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const newUser = {
id: Date.now(),
name,
username,
email,
password,
role: 'user', // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
createdAt: new Date().toISOString(),
avatar: 'üë§'
};
// –°–æ—Ö—Ä–∞–Ω—è–µ–º
this.users[username] = newUser;
this.saveUsers();
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º
return this.login(username, password);
},
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω)
addUser(userData) {
const { name, username, email, password, role } = userData;
if (this.users[username]) {
return { success: false, message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç' };
}
const newUser = {
id: Date.now(),
name,
username,
email,
password,
role: role || 'user',
createdAt: new Date().toISOString(),
avatar: role === 'admin' ? 'üëë' : role === 'observer' ? 'üëÅÔ∏è' : 'üë§'
};
this.users[username] = newUser;
this.saveUsers();
return { success: true, user: newUser };
},
// –í—ã—Ö–æ–¥
logout() {
this.currentUser = null;
localStorage.removeItem('election_session');
this.history = [];
this.showAuthScreen();
},
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
saveUsers() {
// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
const usersToSave = {};
for (const [username, user] of Object.entries(this.users)) {
if (!this.predefinedUsers[username]) {
usersToSave[username] = user;
}
}
localStorage.setItem('election_users', JSON.stringify(usersToSave));
},
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
updateUI() {
const userPanel = document.getElementById('userPanel');
const navMenu = document.getElementById('navMenu');
if (this.currentUser) {
// –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
userPanel.innerHTML = `
<div class="user-avatar">${this.currentUser.avatar}</div>
<div class="user-info">
<div class="user-name">${this.currentUser.name}</div>
<div class="user-role">${this.getRoleName(this.currentUser.role)}</div>
<div class="control-panel">
<button class="btn-back" onclick="UserSystem.goBack()">
‚Üê –ù–∞–∑–∞–¥
</button>
<button class="btn-logout" onclick="UserSystem.logout()">
üö™ –í—ã–π—Ç–∏
</button>
</div>
</div>
`;
// –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
navMenu.innerHTML = this.generateNavigation();
// –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
updateDashboard();
}
},
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–∏
getRoleName(role) {
const roles = {
'admin': '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
'observer': '–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å',
'user': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'
};
return roles[role] || role;
},
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
generateNavigation() {
const baseMenu = `
<li class="nav-item">
<a href="#" class="nav-link active" onclick="UserSystem.navigateTo('dashboard')">
<span class="nav-icon">üìä</span>
<span>–î–∞—à–±–æ—Ä–¥</span>
</a>
</li>
<li class="nav-item">
<a href="#" class="nav-link" onclick="UserSystem.navigateTo('submitReport')">
<span class="nav-icon">üìù</span>
<span>–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ</span>
</a>
</li>
<li class="nav-item">
<a href="#" class="nav-link" onclick="UserSystem.navigateTo('myReports')">
<span class="nav-icon">üìã</span>
<span>–ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è</span>
</a>
</li>
`;
const adminMenu = `
<li class="nav-item">
<a href="#" class="nav-link" onclick="UserSystem.navigateTo('violations')">
<span class="nav-icon">üö®</span>
<span>–í—Å–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è</span>
</a>
</li>
<li class="nav-item">
<a href="#" class="nav-link" onclick="UserSystem.navigateTo('users')">
<span class="nav-icon">üë•</span>
<span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
</a>
</li>
`;
const observerMenu = `
<li class="nav-item">
<a href="#" class="nav-link" onclick="UserSystem.navigateTo('aiAnalysis')">
<span class="nav-icon">ü§ñ</span>
<span>–ê–Ω–∞–ª–∏–∑ –ò–ò</span>
</a>
</li>
`;
let menu = baseMenu;
if (this.currentUser.role === 'admin') {
menu += adminMenu + observerMenu;
} else if (this.currentUser.role === 'observer') {
menu += observerMenu;
}
return menu;
},
// –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∏—Å—Ç–æ—Ä–∏–µ–π
navigateTo(sectionId) {
// –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª –≤ –∏—Å—Ç–æ—Ä–∏—é
if (this.history.length === 0 || this.history[this.history.length - 1] !== sectionId) {
this.history.push(sectionId);
}
// –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
document.querySelectorAll('.content-section').forEach(section => {
section.classList.remove('active');
});
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
document.getElementById(sectionId).classList.add('active');
// –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É –≤ –º–µ–Ω—é
document.querySelectorAll('.nav-link').forEach(link => {
link.classList.remove('active');
});
// –ù–∞—Ö–æ–¥–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Å—ã–ª–∫—É –∏ –¥–µ–ª–∞–µ–º –µ–µ –∞–∫—Ç–∏–≤–Ω–æ–π
document.querySelectorAll('.nav-link').forEach(link => {
if (link.textContent.includes(getSectionTitle(sectionId))) {
link.classList.add('active');
}
});
// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ–∫—Ü–∏–∏
switch(sectionId) {
case 'dashboard':
updateDashboard();
break;
case 'myReports':
loadMyReports();
break;
case 'violations':
if (this.currentUser.role === 'admin') {
loadViolations();
}
break;
case 'users':
if (this.currentUser.role === 'admin') {
loadUsers();
}
break;
}
},
// –ù–∞–∑–∞–¥
goBack() {
if (this.history.length > 1) {
this.history.pop(); // –£–±–∏—Ä–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª
const previousSection = this.history[this.history.length - 1];
this.navigateTo(previousSection);
} else {
// –ï—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞, –∏–¥–µ–º –Ω–∞ –¥–∞—à–±–æ—Ä–¥
this.navigateTo('dashboard');
}
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –∞–¥–º–∏–Ω–∞)
getAllUsers() {
return Object.values(this.users);
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
getUserById(id) {
return Object.values(this.users).find(user => user.id === id);
}
};
// –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–ª–µ–Ω–∏—è–º–∏
const ReportSystem = {
reports: [],
init() {
const savedReports = localStorage.getItem('election_reports');
if (savedReports) {
this.reports = JSON.parse(savedReports);
}
},
// –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è
submitReport(reportData) {
const report = {
id: Date.now(),
...reportData,
userId: UserSystem.currentUser.id,
userName: UserSystem.currentUser.name,
userRole: UserSystem.currentUser.role,
status: 'new',
createdAt: new Date().toISOString(),
files: reportData.files || [],
aiAnalysis: null
};
this.reports.push(report);
this.saveReports();
return { success: true, report };
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
getUserReports(userId) {
return this.reports.filter(report => report.userId === userId)
.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∞)
getAllReports() {
return this.reports.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–ª–µ–Ω–∏—è –ø–æ ID
getReportById(id) {
return this.reports.find(report => report.id === id);
},
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
updateReportStatus(id, status) {
const report = this.getReportById(id);
if (report) {
report.status = status;
report.updatedAt = new Date().toISOString();
this.saveReports();
return true;
}
return false;
},
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ AI –∞–Ω–∞–ª–∏–∑–∞
addAiAnalysis(id, analysis) {
const report = this.getReportById(id);
if (report) {
report.aiAnalysis = analysis;
report.updatedAt = new Date().toISOString();
this.saveReports();
return true;
}
return false;
},
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
saveReports() {
localStorage.setItem('election_reports', JSON.stringify(this.reports));
},
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
getStatistics() {
const today = new Date().toDateString();
const todayReports = this.reports.filter(r =>
new Date(r.createdAt).toDateString() === today
);
return {
total: this.reports.length,
today: todayReports.length,
new: this.reports.filter(r => r.status === 'new').length,
processing: this.reports.filter(r => r.status === 'processing').length,
resolved: this.reports.filter(r => r.status === 'resolved').length
};
}
};
// AI —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞
const AiSystem = {
// –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
analyzeText(text) {
// –ò–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –ò–ò
const keywords = {
'–≤–±—Ä–æ—Å': 0.9,
'–Ω–∞—Ä—É—à–µ–Ω–∏–µ': 0.7,
'–ø–æ–¥—Ç–∞—Å–æ–≤–∫–∞': 0.95,
'–¥–∞–≤–ª–µ–Ω–∏–µ': 0.8,
'—Ñ–∞–ª—å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è': 0.9,
'–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ': 0.6,
'–ø—Ä–æ—Ç–µ—Å—Ç': 0.5,
'–∂–∞–ª–æ–±–∞': 0.4
};
let score = 0.5; // –ë–∞–∑–æ–≤—ã–π –±–∞–ª–ª
let matchedKeywords = [];
// –ê–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
for (const [keyword, weight] of Object.entries(keywords)) {
if (text.toLowerCase().includes(keyword)) {
score += weight * 0.1;
matchedKeywords.push(keyword);
}
}
// –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –±–∞–ª–ª –æ—Ç 0 –¥–æ 1
score = Math.min(Math.max(score, 0), 1);
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞
const feedback = this.generateFeedback(score, matchedKeywords);
const recommendations = this.generateRecommendations(score, matchedKeywords);
return {
score: Math.round(score * 100),
feedback,
recommendations,
keywords: matchedKeywords,
confidence: Math.round(score * 100)
};
},
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞
generateFeedback(score, keywords) {
if (score >= 0.8) {
return `–í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π (${keywords.length} –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ). –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.`;
} else if (score >= 0.6) {
return `–°—Ä–µ–¥–Ω—è—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.`;
} else if (score >= 0.4) {
return `–ù–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π. –í–æ–∑–º–æ–∂–Ω—ã –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.`;
} else {
return `–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω–∞. –í–æ–∑–º–æ–∂–Ω–æ, —Ä–µ—á—å –∏–¥–µ—Ç –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–∏.`;
}
},
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
generateRecommendations(score, keywords) {
const recommendations = [];
if (score >= 0.7) {
recommendations.push('–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –ø—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—é –£–ò–ö');
recommendations.push('–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ)');
recommendations.push('–°–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞–∫—Ç');
recommendations.push('–£–≤–µ–¥–æ–º–∏—Ç—å –≤—ã—à–µ—Å—Ç–æ—è—â—É—é –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é');
} else if (score >= 0.5) {
recommendations.push('–ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É');
recommendations.push('–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è —É —á–ª–µ–Ω–æ–≤ –∫–æ–º–∏—Å—Å–∏–∏');
recommendations.push('–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç –≤ –∂—É—Ä–Ω–∞–ª–µ');
} else {
recommendations.push('–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–∞–∑—ä—è—Å–Ω–∏—Ç–µ–ª—å–Ω—É—é –±–µ—Å–µ–¥—É');
recommendations.push('–£—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —É —Å–≤–∏–¥–µ—Ç–µ–ª–µ–π');
recommendations.push('–ù–∞–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –∫–æ–º–∏—Å—Å–∏—é');
}
return recommendations.join('. ') + '.';
},
// –ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π
analyzeAllNewReports() {
const newReports = ReportSystem.reports.filter(r => !r.aiAnalysis && r.status === 'new');
newReports.forEach(report => {
const analysis = this.analyzeText(report.description);
ReportSystem.addAiAnalysis(report.id, analysis);
});
return newReports.length;
}
};
// –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏
const FileSystem = {
uploadedFiles: [],
handleFileUpload() {
const input = document.getElementById('fileInput');
const files = Array.from(input.files);
// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
if (files.length > 5) {
showAlert('–ú–∞–∫—Å–∏–º—É–º 5 —Ñ–∞–π–ª–æ–≤!', 'warning');
return;
}
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
for (const file of files) {
if (file.size > 10 * 1024 * 1024) { // 10 MB
showAlert(`–§–∞–π–ª ${file.name} —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π! –ú–∞–∫—Å–∏–º—É–º 10 –ú–ë.`, 'warning');
return;
}
}
this.uploadedFiles = files;
this.updateFileList();
},
updateFileList() {
const fileList = document.getElementById('fileList');
fileList.innerHTML = '';
this.uploadedFiles.forEach((file, index) => {
const item = document.createElement('div');
item.className = 'file-item';
item.innerHTML = `
<div>
<strong>${file.name}</strong>
<br>
<small>${(file.size / 1024).toFixed(2)} –ö–ë</small>
</div>
<button onclick="FileSystem.removeFile(${index})" style="background: none; border: none; color: #c62828; cursor: pointer;">
‚úï
</button>
`;
fileList.appendChild(item);
});
},
removeFile(index) {
this.uploadedFiles.splice(index, 1);
this.updateFileList();
},
clearFiles() {
this.uploadedFiles = [];
document.getElementById('fileInput').value = '';
this.updateFileList();
}
};
// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function getSectionTitle(sectionId) {
const titles = {
'dashboard': '–î–∞—à–±–æ—Ä–¥',
'submitReport': '–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ',
'myReports': '–ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è',
'violations': '–í—Å–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è',
'aiAnalysis': '–ê–Ω–∞–ª–∏–∑ –ò–ò',
'users': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏'
};
return titles[sectionId] || sectionId;
}
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ—Ä–º
function handleLogin(event) {
event.preventDefault();
const username = document.getElementById('loginUsername').value;
const password = document.getElementById('loginPassword').value;
const result = UserSystem.login(username, password);
if (result.success) {
showAlert(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${result.user.name}!`, 'success');
closeLoginModal();
} else {
showAlert(result.message, 'danger');
}
}
function handleRegister(event) {
event.preventDefault();
const name = document.getElementById('regName').value;
const username = document.getElementById('regUsername').value;
const email = document.getElementById('regEmail').value;
const password = document.getElementById('regPassword').value;
const confirmPassword = document.getElementById('regConfirmPassword').value;
if (password !== confirmPassword) {
showAlert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!', 'danger');
return;
}
if (password.length < 6) {
showAlert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤', 'warning');
return;
}
const result = UserSystem.register({ name, username, email, password });
if (result.success) {
showAlert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –í—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É.', 'success');
closeRegisterModal();
} else {
showAlert(result.message, 'danger');
}
}
function submitReport(event) {
event.preventDefault();
if (!UserSystem.currentUser) {
showAlert('–î–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
return;
}
const reportData = {
uik: document.getElementById('reportUik').value,
title: document.getElementById('reportTitle').value,
description: document.getElementById('reportDescription').value,
witnessContact: document.getElementById('witnessContact').value,
files: FileSystem.uploadedFiles.map(file => ({
name: file.name,
size: file.size,
type: file.type
}))
};
const result = ReportSystem.submitReport(reportData);
if (result.success) {
showAlert(`–ó–∞—è–≤–ª–µ–Ω–∏–µ #${result.report.id} —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∞–Ω–æ!`, 'success');
// –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
event.target.reset();
FileSystem.clearFiles();
// –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ø–∏—Å–∫—É –∑–∞—è–≤–ª–µ–Ω–∏–π
UserSystem.navigateTo('myReports');
} else {
showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–ª–µ–Ω–∏—è', 'danger');
}
}
// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
function loadMyReports() {
if (!UserSystem.currentUser) return;
const reports = ReportSystem.getUserReports(UserSystem.currentUser.id);
const table = document.getElementById('myReportsTable');
if (reports.length === 0) {
table.innerHTML = `
<tr>
<td colspan="6" style="text-align: center; padding: 40px;">
<div style="font-size: 48px; color: #ccc; margin-bottom: 20px;">üìù</div>
<h3>–ó–∞—è–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</h3>
<p>–ü–æ–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏</p>
</td>
</tr>
`;
return;
}
table.innerHTML = reports.map(report => `
<tr>
<td>#${report.id}</td>
<td>${report.uik}</td>
<td>${report.title}</td>
<td>${new Date(report.createdAt).toLocaleDateString()}</td>
<td>
<span class="status-badge status-${report.status}">
${getStatusText(report.status)}
</span>
</td>
<td>
<button onclick="viewReport(${report.id})" style="background: none; border: none; color: #1565c0; cursor: pointer; margin-right: 10px;">
üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä
</button>
</td>
</tr>
`).join('');
}
function loadViolations() {
if (!UserSystem.currentUser || UserSystem.currentUser.role !== 'admin') return;
const reports = ReportSystem.getAllReports();
const table = document.getElementById('violationsTable');
table.innerHTML = reports.map(report => `
<tr>
<td>#${report.id}</td>
<td>${report.uik}</td>
<td>${report.title}</td>
<td>${report.userName}</td>
<td>${new Date(report.createdAt).toLocaleDateString()}</td>
<td>
${report.aiAnalysis ?
`<span style="color: ${report.aiAnalysis.score >= 70 ? '#c62828' : report.aiAnalysis.score >= 40 ? '#f57c00' : '#2e7d32'}">
${report.aiAnalysis.score}%
</span>` :
'‚Äî'
}
</td>
<td>
<button onclick="viewReport(${report.id})" style="background: none; border: none; color: #1565c0; cursor: pointer; margin-right: 10px;">
üëÅÔ∏è
</button>
<button onclick="analyzeReport(${report.id})" style="background: none; border: none; color: #f57c00; cursor: pointer; margin-right: 10px;">
ü§ñ
</button>
<button onclick="updateReportStatus(${report.id}, 'processing')" style="background: none; border: none; color: #2e7d32; cursor: pointer;">
‚úÖ
</button>
</td>
</tr>
`).join('');
}
function loadUsers() {
if (!UserSystem.currentUser || UserSystem.currentUser.role !== 'admin') return;
const users = UserSystem.getAllUsers();
const table = document.getElementById('usersTable');
table.innerHTML = users.map(user => `
<tr>
<td>${user.id}</td>
<td>
<div style="display: flex; align-items: center; gap: 10px;">
<div style="font-size: 20px;">${user.avatar}</div>
<div>
<div>${user.name}</div>
<small>@${user.username}</small>
</div>
</div>
</td>
<td>${user.email}</td>
<td>${UserSystem.getRoleName(user.role)}</td>
<td>${new Date(user.createdAt).toLocaleDateString()}</td>
<td>
<span class="status-badge status-new">
–ê–∫—Ç–∏–≤–µ–Ω
</span>
</td>
<td>
${user.username !== UserSystem.currentUser.username ? `
<button onclick="deleteUser(${user.id})" style="background: none; border: none; color: #c62828; cursor: pointer;">
üóëÔ∏è
</button>
` : ''}
</td>
</tr>
`).join('');
}
// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function getStatusText(status) {
const statuses = {
'new': '–ù–æ–≤–æ–µ',
'processing': '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
'resolved': '–†–µ—à–µ–Ω–æ'
};
return statuses[status] || status;
}
function showAlert(message, type = 'info') {
const alertDiv = document.createElement('div');
alertDiv.className = `alert alert-${type}`;
alertDiv.innerHTML = message;
alertDiv.style.cssText = `
position: fixed;
top: 20px;
right: 20px;
z-index: 1000;
max-width: 400px;
animation: slideIn 0.3s ease-out;
`;
document.body.appendChild(alertDiv);
setTimeout(() => {
alertDiv.style.animation = 'slideIn 0.3s ease-out reverse';
setTimeout(() => {
document.body.removeChild(alertDiv);
}, 300);
}, 5000);
}
function updateDashboard() {
const stats = ReportSystem.getStatistics();
document.getElementById('totalViolations').textContent = stats.total;
document.getElementById('totalReports').textContent = stats.total;
document.getElementById('totalUsers').textContent = UserSystem.getAllUsers().length;
document.getElementById('todayActivity').textContent = `–°–µ–≥–æ–¥–Ω—è –ø–æ–¥–∞–Ω–æ: ${stats.today} –∑–∞—è–≤–ª–µ–Ω–∏–π`;
document.getElementById('newViolations').textContent = `–ù–æ–≤—ã—Ö: ${stats.new}, –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ: ${stats.processing}`;
// –û–±–Ω–æ–≤–ª—è–µ–º AI —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
const analyzedReports = ReportSystem.reports.filter(r => r.aiAnalysis).length;
document.getElementById('aiProcessed').textContent = analyzedReports;
if (analyzedReports > 0) {
const avgScore = Math.round(
ReportSystem.reports
.filter(r => r.aiAnalysis)
.reduce((sum, r) => sum + r.aiAnalysis.score, 0) / analyzedReports
);
document.getElementById('aiCredibility').textContent = `${avgScore}%`;
}
}
function refreshDashboard() {
updateDashboard();
showAlert('–î–∞—à–±–æ—Ä–¥ –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
}
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
function showSection(sectionId) {
UserSystem.navigateTo(sectionId);
}
function goBack() {
UserSystem.goBack();
}
// –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
function showLoginModal() {
document.getElementById('loginModal').classList.add('active');
}
function closeLoginModal() {
document.getElementById('loginModal').classList.remove('active');
}
function showRegisterModal() {
document.getElementById('registerModal').classList.add('active');
}
function closeRegisterModal() {
document.getElementById('registerModal').classList.remove('active');
}
function showAddUserModal() {
document.getElementById('addUserModal').classList.add('active');
}
function closeAddUserModal() {
document.getElementById('addUserModal').classList.remove('active');
}
function handleAddUser(event) {
event.preventDefault();
const userData = {
name: document.getElementById('addUserName').value,
username: document.getElementById('addUserLogin').value,
email: document.getElementById('addUserEmail').value,
password: document.getElementById('addUserPassword').value,
role: document.getElementById('addUserRole').value
};
const result = UserSystem.addUser(userData);
if (result.success) {
showAlert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${result.user.name} –¥–æ–±–∞–≤–ª–µ–Ω`, 'success');
closeAddUserModal();
loadUsers();
updateDashboard();
} else {
showAlert(result.message, 'danger');
}
}
// –î–µ–º–æ-—Ä–µ–∂–∏–º
function enterDemoMode() {
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –¥–ª—è –¥–µ–º–æ
const result = UserSystem.login('observer', 'observer123');
if (result.success) {
showAlert('–î–µ–º–æ-—Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.', 'info');
}
}
// AI —Ñ—É–Ω–∫—Ü–∏–∏
function analyzeText() {
const text = document.getElementById('aiText').value;
if (!text.trim()) {
showAlert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞', 'warning');
return;
}
const analysis = AiSystem.analyzeText(text);
document.getElementById('aiScore').textContent = `${analysis.score}%`;
document.getElementById('aiFeedback').textContent = analysis.feedback;
document.getElementById('aiRecommendations').textContent = analysis.recommendations;
document.getElementById('aiResult').style.display = 'block';
showAlert(`–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω. –î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å: ${analysis.score}%`, 'success');
}
function analyzeReport(reportId) {
const report = ReportSystem.getReportById(reportId);
if (!report) return;
const analysis = AiSystem.analyzeText(report.description);
ReportSystem.addAiAnalysis(reportId, analysis);
showAlert(`–û—Ç—á–µ—Ç #${reportId} –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ò–ò. –û—Ü–µ–Ω–∫–∞: ${analysis.score}%`, 'success');
loadViolations();
}
function runAiAnalysis() {
const count = AiSystem.analyzeAllNewReports();
showAlert(`–ò–ò –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª ${count} –Ω–æ–≤—ã—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π`, 'success');
updateDashboard();
}
// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function viewReport(reportId) {
const report = ReportSystem.getReportById(reportId);
if (!report) return;
const modalContent = `
<div class="modal-header">
<h2>–ó–∞—è–≤–ª–µ–Ω–∏–µ #${report.id}</h2>
<button class="modal-close" onclick="this.closest('.modal').classList.remove('active')">√ó</button>
</div>
<div style="max-height: 60vh; overflow-y: auto;">
<div style="margin-bottom: 20px;">
<strong>–£–ò–ö:</strong> ${report.uik}<br>
<strong>–°—Ç–∞—Ç—É—Å:</strong> ${getStatusText(report.status)}<br>
<strong>–ü–æ–¥–∞–Ω–æ:</strong> ${new Date(report.createdAt).toLocaleString()}<br>
<strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> ${report.userName}
</div>
<div style="margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 10px;">
<h3>${report.title}</h3>
<p style="white-space: pre-wrap; margin-top: 10px;">${report.description}</p>
</div>
${report.files.length > 0 ? `
<div style="margin: 20px 0;">
<h4>–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (${report.files.length}):</h4>
<div style="display: flex; gap: 10px; flex-wrap: wrap;">
${report.files.map(file => `
<div style="padding: 10px; background: white; border: 1px solid #ddd; border-radius: 8px;">
üìé ${file.name}<br>
<small>${(file.size / 1024).toFixed(2)} –ö–ë</small>
</div>
`).join('')}
</div>
</div>
` : ''}
${report.aiAnalysis ? `
<div style="margin: 20px 0; padding: 20px; background: linear-gradient(135deg, #e3f2fd, #f3e5f5); border-radius: 10px;">
<h4>ü§ñ –ê–Ω–∞–ª–∏–∑ –ò–ò</h4>
<div style="text-align: center; font-size: 48px; font-weight: bold; color: ${report.aiAnalysis.score >= 70 ? '#c62828' : report report.aiAnalysis.score >= 40 ? '#f57c00' : '#2e7d32'};">
${report.aiAnalysis.score}%
</div>
<p><strong>–û—Ü–µ–Ω–∫–∞:</strong> ${report.aiAnalysis.feedback}</p>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong> ${report.aiAnalysis.recommendations}</p>
</div>
` : ''}
</div>
<div style="margin-top: 20px; display: flex; gap: 10px;">
${UserSystem.currentUser.role === 'admin' ? `
<button class="btn btn-primary" onclick="analyzeReport(${report.id}); this.closest('.modal').classList.remove('active')">
ü§ñ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ò–ò –∞–Ω–∞–ª–∏–∑
</button>
<button class="btn btn-success" onclick="updateReportStatus(${report.id}, 'resolved'); this.closest('.modal').classList.remove('active')">
‚úÖ –ü–æ–º–µ—Ç–∏—Ç—å —Ä–µ—à–µ–Ω–Ω—ã–º
</button>
` : ''}
<button class="btn btn-warning" onclick="this.closest('.modal').classList.remove('active')" style="flex: 1;">
–ó–∞–∫—Ä—ã—Ç—å
</button>
</div>
`;
const modal = document.createElement('div');
modal.className = 'modal active';
modal.innerHTML = `
<div class="modal-content" style="max-width: 800px;">
${modalContent}
</div>
`;
document.body.appendChild(modal);
// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª–∫–∏
modal.addEventListener('click', (e) => {
if (e.target === modal) {
document.body.removeChild(modal);
}
});
}
function updateReportStatus(reportId, status) {
if (ReportSystem.updateReportStatus(reportId, status)) {
showAlert(`–°—Ç–∞—Ç—É—Å –∑–∞—è–≤–ª–µ–Ω–∏—è #${reportId} –æ–±–Ω–æ–≤–ª–µ–Ω`, 'success');
loadViolations();
loadMyReports();
}
}
function exportViolations() {
if (!UserSystem.currentUser || UserSystem.currentUser.role !== 'admin') {
showAlert('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω', 'danger');
return;
}
const reports = ReportSystem.getAllReports();
const data = {
exportedAt: new Date().toISOString(),
exportedBy: UserSystem.currentUser.name,
totalReports: reports.length,
reports: reports
};
const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `–Ω–∞—Ä—É—à–µ–Ω–∏—è_${new Date().toISOString().split('T')[0]}.json`;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);
showAlert('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ JSON —Ñ–∞–π–ª', 'success');
}
function deleteUser(userId) {
if (!UserSystem.currentUser || UserSystem.currentUser.role !== 'admin') {
showAlert('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω', 'danger');
return;
}
if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) return;
const users = UserSystem.getAllUsers();
const userToDelete = users.find(u => u.id === userId);
if (!userToDelete) return;
// –ù–µ –ø–æ–∑–≤–æ–ª—è–µ–º —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è
if (userToDelete.username === UserSystem.currentUser.username) {
showAlert('–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è!', 'danger');
return;
}
// –ù–µ –ø–æ–∑–≤–æ–ª—è–µ–º —É–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
if (UserSystem.predefinedUsers[userToDelete.username]) {
showAlert('–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!', 'danger');
return;
}
// –£–¥–∞–ª—è–µ–º –∏–∑ —Å–∏—Å—Ç–µ–º—ã
delete UserSystem.users[userToDelete.username];
UserSystem.saveUsers();
showAlert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${userToDelete.name} —É–¥–∞–ª–µ–Ω`, 'success');
loadUsers();
updateDashboard();
}
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–∞–π–ª–æ–≤
function handleFileUpload() {
FileSystem.handleFileUpload();
}
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
document.addEventListener('DOMContentLoaded', function() {
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—ã
UserSystem.init();
ReportSystem.init();
// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–æ–≤
const fileInput = document.getElementById('fileInput');
if (fileInput) {
fileInput.addEventListener('change', handleFileUpload);
}
// –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
document.addEventListener('keydown', function(e) {
// Esc –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–æ–∫
if (e.key === 'Escape') {
document.querySelectorAll('.modal.active').forEach(modal => {
modal.classList.remove('active');
});
}
// Alt+Left –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–∞–¥
if (e.altKey && e.key === 'ArrowLeft') {
e.preventDefault();
goBack();
}
// Ctrl+Enter –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º
if (e.ctrlKey && e.key === 'Enter') {
const activeModal = document.querySelector('.modal.active');
if (activeModal) {
const form = activeModal.querySelector('form');
if (form) {
form.requestSubmit();
}
}
}
});
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø–æ–ª–µ –ª–æ–≥–∏–Ω–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏
document.getElementById('loginModal').addEventListener('shown', function() {
document.getElementById('loginUsername').focus();
});
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
const demoBtn = document.querySelector('.btn-warning');
if (demoBtn) {
demoBtn.onclick = enterDemoMode;
}
console.log('–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
setTimeout(() => {
if (UserSystem.currentUser) {
// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞—à–±–æ—Ä–¥
updateDashboard();
// –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞—è–≤–ª–µ–Ω–∏–π –¥–ª—è –¥–µ–º–æ
if (ReportSystem.reports.length === 0) {
addSampleReports();
}
}
}, 1000);
});
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
function addSampleReports() {
const sampleReports = [
{
uik: '–£–ò–ö ‚Ññ1234',
title: '–í–±—Ä–æ—Å –±—é–ª–ª–µ—Ç–µ–Ω–µ–π –≤ —É—Ä–Ω—É',
description: '–ü—Ä–∏–º–µ—Ä–Ω–æ –≤ 14:30 –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º—É–∂—á–∏–Ω–∞ –≤ —á–µ—Ä–Ω–æ–π –∫—É—Ä—Ç–∫–µ –æ–ø—É—Å—Ç–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤ –≤ —É—Ä–Ω—É –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ß–ª–µ–Ω—ã –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏.',
witnessContact: '–°–≤–∏–¥–µ—Ç–µ–ª—å: –ü–µ—Ç—Ä–æ–≤ –ò.–°., —Ç–µ–ª. 8-900-123-45-67'
},
{
uik: '–£–ò–ö ‚Ññ5678',
title: '–ù–∞—Ä—É—à–µ–Ω–∏–µ —Ç–∞–π–Ω—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è',
description: '–ò–∑–±–∏—Ä–∞—Ç–µ–ª—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–ª —Å–≤–æ–π –±—é–ª–ª–µ—Ç–µ–Ω—å –≤ –∫–∞–±–∏–Ω–µ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –ß–ª–µ–Ω –∫–æ–º–∏—Å—Å–∏–∏ —Å–¥–µ–ª–∞–ª –∑–∞–º–µ—á–∞–Ω–∏–µ, –Ω–æ –Ω–µ –ø—Ä–∏–Ω—è–ª –º–µ—Ä.',
witnessContact: ''
},
{
uik: '–£–ò–ö ‚Ññ9012',
title: '–î–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è',
description: '–ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—å –£–ò–ö —Ç—Ä–µ–±–æ–≤–∞–ª –æ—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –ø–æ–∫–∏–Ω—É—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ –±–µ–∑ –æ—Å–Ω–æ–≤–∞–Ω–∏–π. –£–≥—Ä–æ–∂–∞–ª –≤—ã–∑–≤–∞—Ç—å –ø–æ–ª–∏—Ü–∏—é.',
witnessContact: '–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å: –°–∏–¥–æ—Ä–æ–≤–∞ –ê.–í., —Ç–µ–ª. 8-900-987-65-43'
}
];
sampleReports.forEach((report, index) => {
setTimeout(() => {
const reportData = {
...report,
userId: 3, // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è user
userName: '–°–∏–¥–æ—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞',
userRole: 'user',
status: index === 0 ? 'processing' : 'new',
createdAt: new Date(Date.now() - (index * 3600000)).toISOString(), // –†–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è
files: [],
aiAnalysis: index === 0 ? AiSystem.analyzeText(report.description) : null
};
ReportSystem.reports.push({
id: Date.now() + index,
...reportData
});
if (index === sampleReports.length - 1) {
ReportSystem.saveReports();
updateDashboard();
if (UserSystem.currentUser && UserSystem.currentUser.role === 'admin') {
loadViolations();
}
if (UserSystem.currentUser && UserSystem.currentUser.id === 3) {
loadMyReports();
}
}
}, index * 100);
});
}
// –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º)
function showSection(sectionId) {
UserSystem.navigateTo(sectionId);
}
// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∫–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
function goToMainScreen() {
UserSystem.showAuthScreen();
}
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
function switchUser(username) {
let password;
switch(username) {
case 'admin58':
password = '893612';
break;
case 'observer':
password = 'observer123';
break;
case 'user':
password = 'user123';
break;
default:
return;
}
const result = UserSystem.login(username, password);
if (result.success) {
showAlert(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${result.user.name}`, 'success');
}
}
// –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
window.UserSystem = UserSystem;
window.ReportSystem = ReportSystem;
window.AiSystem = AiSystem;
window.FileSystem = FileSystem;
// –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
window.showSection = showSection;
window.goBack = goBack;
window.showLoginModal = showLoginModal;
window.closeLoginModal = closeLoginModal;
window.showRegisterModal = showRegisterModal;
window.closeRegisterModal = closeRegisterModal;
window.handleLogin = handleLogin;
window.handleRegister = handleRegister;
window.enterDemoMode = enterDemoMode;
window.submitReport = submitReport;
window.loadMyReports = loadMyReports;
window.loadViolations = loadViolations;
window.loadUsers = loadUsers;
window.viewReport = viewReport;
window.analyzeReport = analyzeReport;
window.analyzeText = analyzeText;
window.runAiAnalysis = runAiAnalysis;
window.updateReportStatus = updateReportStatus;
window.exportViolations = exportViolations;
window.deleteUser = deleteUser;
window.showAddUserModal = showAddUserModal;
window.closeAddUserModal = closeAddUserModal;
window.handleAddUser = handleAddUser;
window.handleFileUpload = handleFileUpload;
window.refreshDashboard = refreshDashboard;
</script>
</body>
</html>

